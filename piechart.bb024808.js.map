{"mappings":"usCAAA,IAAAA,EAAAC,EAAA,kDAEAC,GAFAD,EAAA,iBAEAA,EAAA,OAGAE,EAAAF,EAAA,gB,sBAFAG,QAAQC,IAAI,gBAAgBH,KAI5BE,QAAQC,IAAI,QAEZ,MAAMC,EAASC,SAASC,cAAc,UAEtC,IAAIC,EAEJH,EAAOI,iBAAiB,UAAU,KACV,QAAhBJ,EAAOK,QACPF,EAAQG,EAAAC,QAAKC,QAEG,QAAhBR,EAAOK,QACPF,EAAQG,EAAAC,QAAKE,WAMrB,SAAkBN,GACdL,QAAQC,IAAII,GAEZ,MAAMO,EAAWP,EAAMQ,KAAKC,GAAMA,EAAEC,UAC9BC,EAASX,EAAMQ,KAAKC,GAAMA,EAAEG,QAE5BC,EAAMpB,EAAGI,OAAO,cAChBiB,EAAQ,IACRC,EAAS,IACTC,EAASC,KAAKC,IAAIJ,EAAOC,GAAU,EACnCI,EAAIN,EAAIO,OAAO,KAAKC,KAAK,YAAa,aAAeP,EAAQ,EAAI,IAAMC,EAAS,EAAI,KAE1FpB,QAAQC,IAAI,eAAeH,KAE3B,MAAMmB,EAAQnB,EAAG6B,aAAaX,GAExBY,EAAM9B,EAAG8B,MAETC,EAAM/B,EAAG+B,MAAMC,YAAY,GAAGC,YAAYV,GAEnCG,EAAEQ,UAAU,OAAOC,KAAKL,EAAIhB,IAAWsB,QAAQT,OAAO,KAAKC,KAAK,QAAS,OAEjFD,OAAO,QACPC,KAAK,QAAQ,SAAUS,EAAGC,GACvB,OAAOnB,EAAMmB,EACjB,IACCV,KAAK,IAAKG,EACnB,CA9BIQ,CAAShC,EAAA,G,uKCrBbiC,EAAOC,QAAUC,KAAKC,MAAM,yiB","sources":["charts/PieChart.js","data.json"],"sourcesContent":["import \"../index.scss\";\n\nimport * as d3 from \"d3\";\nconsole.log(`arriba d3 es ${d3}`);\n\nimport data from \"../data.json\";\n\nconsole.log('test');\n\nconst select = document.querySelector(\"#years\");\n\nlet datos;\n\nselect.addEventListener(\"change\", () => {\n    if (select.value == \"2020\") {\n        datos = data.twenty;\n    }\n    if (select.value == \"2021\") {\n        datos = data.twentyOne;\n    }\n\n    pieChart(datos);\n});\n\nfunction pieChart(datos) {\n    console.log(datos);\n\n    const percents = datos.map((a) => a.percent);\n    const colors = datos.map((a) => a.color);\n\n    const svg = d3.select(\"#pie-chart\");\n    const width = 500;\n    const height = 500;\n    const radius = Math.min(width, height) / 2;\n    const g = svg.append(\"g\").attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n    console.log(`abajo d3 es ${d3}`);\n    \n    const color = d3.scaleOrdinal(colors);\n\n    const pie = d3.pie();\n\n    const arc = d3.arc().innerRadius(0).outerRadius(radius);\n\n    const arcs = g.selectAll(\"arc\").data(pie(percents)).enter().append(\"g\").attr(\"class\", \"arc\");\n\n    arcs.append(\"path\")\n        .attr(\"fill\", function (d, i) {\n            return color(i);\n        })\n        .attr(\"d\", arc);\n}\n","{\n    \"twenty\": [\n        {\n            \"name\": \"A\",\n            \"percent\": 30,\n            \"color\": \"#ef6461\"\n        },\n        {\n            \"name\": \"B\",\n            \"percent\": 20,\n            \"color\": \"#AB2725\"\n        },\n        {\n            \"name\": \"C\",\n            \"percent\": 10,\n            \"color\": \"#361817\"\n        },\n        {\n            \"name\": \"D\",\n            \"percent\": 5,\n            \"color\": \"#540F0E\"\n        },\n        {\n            \"name\": \"E\",\n            \"percent\": 25,\n            \"color\": \"#382828\"\n        },\n        {\n            \"name\": \"F\",\n            \"percent\": 20,\n            \"color\": \"#FF0400\"\n        }\n    ],\n    \"twentyOne\": [\n        {\n            \"name\": \"A\",\n            \"percent\": 17,\n            \"color\": \"#ef6461\"\n        },\n        {\n            \"name\": \"B\",\n            \"percent\": 26,\n            \"color\": \"#AB2725\"\n        },\n        {\n            \"name\": \"C\",\n            \"percent\": 4,\n            \"color\": \"#361817\"\n        },\n        {\n            \"name\": \"D\",\n            \"percent\": 5,\n            \"color\": \"#540F0E\"\n        },\n        {\n            \"name\": \"E\",\n            \"percent\": 8,\n            \"color\": \"#382828\"\n        },\n        {\n            \"name\": \"F\",\n            \"percent\": 30,\n            \"color\": \"#FF0400\"\n        }\n    ]\n}"],"names":["parcelHelpers","require","_d3","_dataJson","console","log","select","document","querySelector","datos","addEventListener","value","_dataJsonDefault","default","twenty","twentyOne","percents","map","a","percent","colors","color","svg","width","height","radius","Math","min","g","append","attr","scaleOrdinal","pie","arc","innerRadius","outerRadius","selectAll","data","enter","d","i","pieChart","module","exports","JSON","parse"],"version":3,"file":"piechart.bb024808.js.map"}