{"mappings":"mjBAKAA,QAAQC,IAAI,QAEZ,MAAMC,EAASC,SAASC,cAAc,UAEtC,IAAIC,EAEJH,EAAOI,iBAAiB,UAAU,KACV,QAAhBJ,EAAOK,QACPF,EAAQG,EAAAC,GAAKC,QAEG,QAAhBR,EAAOK,QACPF,EAAQG,EAAAC,GAAKE,WAMrB,SAAkBC,GACdZ,QAAQC,IAAIW,GAEZ,MAAMC,EAAWD,EAAME,KAAKC,GAAMA,EAAEC,UAC9BC,EAASL,EAAME,KAAKC,GAAMA,EAAEG,QAE5BC,EAAMC,EAAAC,OAAU,cAClBC,EAAQ,IACRC,EAAS,IACTC,EAASC,KAAKC,IAAIJ,EAAOC,GAAU,EACnCI,EAAIR,EAAIS,OAAO,KAAKC,KAAK,YAAa,aAAeP,EAAQ,EAAI,IAAMC,EAAS,EAAI,KAElFL,EAAQE,EAAAU,aAAgBb,GAExBc,EAAMX,EAAAW,MAENC,EAAMZ,EAAAY,MAASC,YAAY,GAAGC,YAAYV,GAEnCG,EAAEQ,UAAU,OAAOC,KAAKL,EAAIlB,IAAWwB,QAAQT,OAAO,KAAKC,KAAK,QAAS,OAEjFD,OAAO,QACPC,KAAK,QAAQ,SAAUS,EAAGC,GACvB,OAAOrB,EAAMqB,EACjB,IACCV,KAAK,IAAKG,EACnB,CA5BIQ,CAASnC,EAAA","sources":["charts/PieChart.js"],"sourcesContent":["import \"../index.scss\";\n\nimport * as d3 from \"d3\";\nimport data from \"../data.json\";\n\nconsole.log('test');\n\nconst select = document.querySelector(\"#years\");\n\nlet datos;\n\nselect.addEventListener(\"change\", () => {\n    if (select.value == \"2020\") {\n        datos = data.twenty;\n    }\n    if (select.value == \"2021\") {\n        datos = data.twentyOne;\n    }\n\n    pieChart(datos);\n});\n\nfunction pieChart(datos) {\n    console.log(datos);\n\n    const percents = datos.map((a) => a.percent);\n    const colors = datos.map((a) => a.color);\n\n    const svg = d3.select(\"#pie-chart\"),\n        width = 500,\n        height = 500,\n        radius = Math.min(width, height) / 2,\n        g = svg.append(\"g\").attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n    const color = d3.scaleOrdinal(colors);\n\n    const pie = d3.pie();\n\n    const arc = d3.arc().innerRadius(0).outerRadius(radius);\n\n    const arcs = g.selectAll(\"arc\").data(pie(percents)).enter().append(\"g\").attr(\"class\", \"arc\");\n\n    arcs.append(\"path\")\n        .attr(\"fill\", function (d, i) {\n            return color(i);\n        })\n        .attr(\"d\", arc);\n}\n"],"names":["console","log","$aef38071344b4d2d$var$select","document","querySelector","$aef38071344b4d2d$var$datos","addEventListener","value","$parcel$interopDefault","$c2gn4","twenty","twentyOne","datos","percents","map","a","percent","colors","color","svg","$2YFJl","select","width","height","radius","Math","min","g","append","attr","scaleOrdinal","pie","arc","innerRadius","outerRadius","selectAll","data","enter","d","i","$aef38071344b4d2d$var$pieChart"],"version":3,"file":"piechart.9a2e1827.js.map"}