{"mappings":"mjBAKA,MAAMA,EAASC,SAASC,cAAc,UAEtC,IAAIC,EAEJH,EAAOI,iBAAiB,UAAU,KACV,QAAhBJ,EAAOK,QACPF,EAAQG,EAAAC,GAAKC,QAEG,QAAhBR,EAAOK,QACPF,EAAQG,EAAAC,GAAKE,WAMrB,SAAkBC,GACAA,EAAKC,KAAKC,GAAMA,EAAEC,OACfH,EAAKC,KAAKC,GAAMA,EAAEE,UACpBJ,EAAKC,KAAKC,GAAMA,EAAEG,QAFjC,MAIMC,EAAMC,EAAAC,OAAU,cAChBC,EAAS,IACTC,EAAQJ,EAAIK,KAAK,SAAWF,EAC5BG,EAASN,EAAIK,KAAK,UAAYF,EAE9BI,EAASN,EAAAO,YAAeC,MAAM,CAAC,EAAGL,IAAQM,QAAQ,IAClDC,EAASV,EAAAW,cAAiBH,MAAM,CAACH,EAAQ,IAEzCO,EAAIb,EAAIc,OAAO,KAAKT,KAAK,YAAa,sBAE5CE,EAAOQ,OACHrB,EAAKC,KAAI,SAAUqB,GACf,OAAOA,EAAEnB,IACb,KAEJc,EAAOI,OAAO,CACV,EACAd,EAAAgB,IAAOvB,GAAM,SAAUsB,GACnB,OAAOA,EAAElB,OACb,MAIJe,EAAEC,OAAO,KACJT,KAAK,YAAa,eAAiBC,EAAS,KAC5CY,KAAKjB,EAAAkB,WAAcZ,IACnBO,OAAO,QACPT,KAAK,IAAKC,EAAS,KACnBD,KAAK,IAAKD,EAAQ,KAClBC,KAAK,cAAe,OACpBA,KAAK,SAAU,SAGpBQ,EAAEC,OAAO,KACJI,KACGjB,EAAAmB,SACcT,GACTU,YAAW,SAAUL,GAClB,OAAOA,CACX,IACCM,MAAM,IAEdR,OAAO,QACPT,KAAK,IAAKC,EAAS,GACnBD,KAAK,KAAK,IACVA,KAAK,cAAe,OACpBA,KAAK,SAAU,SACfkB,KAAK,uBAEVV,EAAEW,UAAU,QACP9B,KAAKA,GACL+B,QACAX,OAAO,QACPT,KAAK,QAAS,OACdA,KAAK,KAAK,SAAUW,GACjB,OAAOT,EAAOS,EAAEnB,KACpB,IACCQ,KAAK,OAAQ,WAEbA,KAAK,KAAK,SAAUW,GACjB,OAAOL,EAAOK,EAAElB,QACpB,IACCO,KAAK,QAASE,EAAOmB,aACrBrB,KAAK,UAAU,SAAUW,GACtB,OAAOV,EAASK,EAAOK,EAAElB,QAC7B,GACR,CA1EI6B,CAASxC,EAAA","sources":["charts/BarChart.js"],"sourcesContent":["import \"../index.scss\";\n\nimport * as d3 from \"d3\";\nimport data from \"../data.json\";\n\nconst select = document.querySelector(\"#years\");\n\nlet datos;\n\nselect.addEventListener(\"change\", () => {\n    if (select.value == \"2020\") {\n        datos = data.twenty;\n    }\n    if (select.value == \"2021\") {\n        datos = data.twentyOne;\n    }\n\n    barChart(datos);\n});\n\nfunction barChart(data) {\n    const names = data.map((a) => a.name);\n    const percents = data.map((a) => a.percent);\n    const colors = data.map((a) => a.color);\n\n    const svg = d3.select(\"#bar-graph\");\n    const margin = 200;\n    const width = svg.attr(\"width\") - margin;\n    const height = svg.attr(\"height\") - margin;\n\n    const xScale = d3.scaleBand().range([0, width]).padding(0.7);\n    const yScale = d3.scaleLinear().range([height, 0]);\n\n    const g = svg.append(\"g\").attr(\"transform\", \"translate(\" + 200 + \",\" + 100 + \")\");\n\n    xScale.domain(\n        data.map(function (d) {\n            return d.name;\n        })\n    );\n    yScale.domain([\n        0,\n        d3.max(data, function (d) {\n            return d.percent;\n        }),\n    ]);\n\n    // Eje X\n    g.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(xScale))\n        .append(\"text\")\n        .attr(\"y\", height - 250)\n        .attr(\"x\", width - 100)\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"stroke\", \"black\");\n\n    // Eje Y\n    g.append(\"g\")\n        .call(\n            d3\n                .axisLeft(yScale)\n                .tickFormat(function (d) {\n                    return d;\n                })\n                .ticks(5)\n        )\n        .append(\"text\")\n        .attr(\"y\", height / 2)\n        .attr(\"x\", -50)\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"stroke\", \"black\")\n        .text(\"Defects / 1000 cars\");\n\n    g.selectAll(\".bar\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", function (d) {\n            return xScale(d.name);\n        })\n        .attr(\"fill\", \"#FF0000\")\n\n        .attr(\"y\", function (d) {\n            return yScale(d.percent);\n        })\n        .attr(\"width\", xScale.bandwidth())\n        .attr(\"height\", function (d) {\n            return height - yScale(d.percent);\n        });\n}\n"],"names":["$f4f5364a7c477f79$var$select","document","querySelector","$f4f5364a7c477f79$var$datos","addEventListener","value","$parcel$interopDefault","$c2gn4","twenty","twentyOne","data","map","a","name","percent","color","svg","$2YFJl","select","margin","width","attr","height","xScale","scaleBand","range","padding","yScale","scaleLinear","g","append","domain","d","max","call","axisBottom","axisLeft","tickFormat","ticks","text","selectAll","enter","bandwidth","$f4f5364a7c477f79$var$barChart"],"version":3,"file":"barchart.8850029f.js.map"}